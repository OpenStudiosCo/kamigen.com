{"version":3,"file":"app.js","sources":["../src/app/scenograph/director.js","../src/app/scenograph/objects/aircraft.js","../src/app/scenograph/objects/island.js","../src/app/scenograph/scenes/island.js","../src/app/scenograph/materials.js","../src/app/scenograph.js","../src/app.js"],"sourcesContent":["/**\r\n  * Director.\r\n  * \r\n  * Manages scenes and the config and variables for the active scene.\r\n  *\r\n  */\r\n\r\n// Globals.\r\nimport $ from 'jQuery';\r\nimport THREE from 'THREE';\r\n\r\nexport default class Director {\r\n  constructor(options) {\r\n    \r\n  }\r\n}\r\n","/**\r\n  * Aircraft.\r\n  * \r\n  * Object Class\r\n  *\r\n  */\r\n\r\n// Globals.\r\nimport $ from 'jQuery';\r\nimport THREE from 'THREE';\r\n\r\n// Game libs.\r\nlet MaterialLibrary;\r\nlet lastAlpha = 0, lastBeta = 0, lastGamma = 0;\r\n\r\nexport default class Aircraft {\r\n  constructor(materials) {\r\n    MaterialLibrary = materials;\r\n  }\r\n\r\n  animate(keyboard, camera_controls, AircraftFactory, scene) {\r\n    let nothingPressed = true;\r\n    if (this.velocity < 10) {\r\n      // Falling gravity\r\n      this.position.y -= 25 - (this.velocity * 2.5);\r\n    }\r\n    else {\r\n      // Regular gravity\r\n      this.position.y -= .98;\r\n    }\r\n    if (keyboard.pressed(\" \")) {\r\n      nothingPressed = false;\r\n      if (this.velocity < 50) {\r\n        this.velocity += 0.1;\r\n      }\r\n    }\r\n    if (keyboard.pressed(\"shift\")) {\r\n      nothingPressed = false;\r\n      if (this.velocity > 0) {\r\n        this.velocity -= 0.1;  \r\n      }\r\n      else {\r\n        this.velocity = 0;\r\n      }\r\n    }\r\n  \r\n    this.translateZ(this.velocity);\r\n    if (keyboard.pressed(\"a\")) {\r\n      this.rotateZ(-Math.PI / 360);\r\n      nothingPressed = false;\r\n    }\r\n    if (keyboard.pressed(\"d\")) {\r\n      this.rotateZ(Math.PI / 360);\r\n      nothingPressed = false;\r\n    }\r\n    if (keyboard.pressed(\"s\")) {\r\n      this.rotateX(-Math.PI / 360);\r\n      nothingPressed = false;\r\n    }\r\n    if (keyboard.pressed(\"w\")) {\r\n      this.rotateX(Math.PI / 360);\r\n      nothingPressed = false;\r\n    }\r\n    if (keyboard.pressed(\"c\")) {\r\n      camera_controls.reset();\r\n      nothingPressed = false;\r\n    }\r\n  \r\n    if (this.velocity != 0) {\r\n      AircraftFactory.initParticles(scene);\r\n      this.velocity *= 0.9999;\r\n    };\r\n  }\r\n\r\n  drawShip() {\r\n    var wingPort = this.getWing('port');\r\n    var wingStarboard = this.getWing('starboard');\r\n    var cockpit = this.getCockpit();\r\n    var fuselage = this.getFuselage();\r\n    \r\n    this.ship = new THREE.Object3D();\r\n    this.ship.add(wingPort);\r\n    this.ship.add(wingStarboard);\r\n    this.ship.add(fuselage);\r\n    this.ship.add(cockpit);\r\n    this.ship.position.set(0, 25000, 0);\r\n    this.ship.velocity = 15.0;\r\n  \r\n    $('.ui.button.accelerate').click(() => this.ship.velocity += 0.5);\r\n    $('.ui.button.decelerate').click(() => this.ship.velocity -= 0.5);\r\n    $('.ui.button.reset').click(() => camera_controls.reset());\r\n  \r\n    \r\n      var eventHandler = (event) => {\r\n        var betaDiff = lastBeta - event.beta;\r\n        var gammaDiff = lastGamma - event.gamma;\r\n  \r\n        if (betaDiff > 5.5 || betaDiff < 5.5) {\r\n          this.ship.rotateX(betaDiff / 250);\r\n          if (betaDiff > 35 || betaDiff < 35) {\r\n            this.ship.rotateX(betaDiff / 50);\r\n          }\r\n        }\r\n        if (gammaDiff > 5.5 || gammaDiff < 5.5) {\r\n          this.ship.rotateY(gammaDiff / 250);\r\n          if (gammaDiff > 35 || gammaDiff < 35) {\r\n            this.ship.rotateY(gammaDiff / 50);\r\n          }\r\n        }\r\n        \r\n        lastBeta = event.beta;\r\n        lastGamma = event.gamma;\r\n      };\r\n      window.addEventListener(\"deviceorientation\", eventHandler, true );\r\n  \r\n    this.ship.animate = this.animate;\r\n    return this.ship;\r\n  }\r\n\r\n  getFuselage() {\r\n    var geometry = new THREE.OctahedronGeometry( 30, 0);\r\n    var texture = MaterialLibrary.textures.darkMetal1;\r\n    var material = new THREE.MeshPhongMaterial( { map: texture } );\r\n    var fuselage = new THREE.Mesh( geometry, material );\r\n  \r\n    fuselage.scale.set(.75,5,1.85);\r\n    fuselage.position.set(0, -120, 0);\r\n    fuselage.rotation.set(-Math.PI / 2, Math.PI / 2, 0);\r\n  \r\n    return fuselage;\r\n  }\r\n  \r\n  getCockpit() {\r\n    var geometry = new THREE.OctahedronGeometry( 30, 1);\r\n    var material = new THREE.MeshToonMaterial( { color: 0x006633, shininess: 100 } );\r\n    var fuselage = new THREE.Mesh( geometry, material );\r\n  \r\n    fuselage.scale.set(.8,.15,.35);\r\n    fuselage.position.set(0, -110, 70);\r\n    fuselage.rotation.set(0.1, -Math.PI / 2, 0);\r\n  \r\n    return fuselage;\r\n  }\r\n  \r\n  getWing(side) {\r\n    if (side == 'port') {\r\n      var closedSpline = new THREE.CatmullRomCurve3( [    \r\n        new THREE.Vector3(  -120,  90, 120 ),\r\n        new THREE.Vector3(  -120,  90, -120 )\r\n      ] );\r\n    }\r\n    if (side == 'starboard') {\r\n      var closedSpline = new THREE.CatmullRomCurve3( [    \r\n        new THREE.Vector3(  -120,  90, -120 ),\r\n        new THREE.Vector3(  -120,  90, 120 )\r\n      ] );  \r\n    }\r\n    closedSpline.type = 'catmullrom';\r\n    closedSpline.closed = true;\r\n    var extrudeSettings = {\r\n      steps     : 10,\r\n      bevelEnabled  : false,\r\n      extrudePath   : closedSpline\r\n    };\r\n    var pts = [], count = 3;\r\n    for ( var i = 0; i < count; i ++ ) {\r\n      var l = 80;\r\n      var a = 20 * i / count * Math.PI;\r\n      pts.push( new THREE.Vector2 ( Math.cos( a ) * l, Math.sin( a ) * 4 ) );\r\n    }\r\n    var shape = new THREE.Shape( pts );\r\n    var geometry = new THREE.ExtrudeGeometry( shape, extrudeSettings );\r\n    var texture = MaterialLibrary.textures.darkMetal2;\r\n    var material = new THREE.MeshPhongMaterial( { map: texture, wireframe: false } );\r\n    var wing = new THREE.Mesh( geometry, material );\r\n    \r\n  \r\n    if (side == 'port') {\r\n      wing.position.set(-100,-240, 90);\r\n      wing.rotation.set(0, Math.PI / 3 , -Math.PI / 2);\r\n    }\r\n    if (side == 'starboard') {\r\n      wing.position.set(100,-240, 90);\r\n      wing.rotation.set(0, ((2 * Math.PI) / 3) , -Math.PI / 2);\r\n    }\r\n    \r\n    return wing;\r\n  }\r\n\r\n  initParticles(scene) {\r\n  \r\n    var scale = Math.random() * 32 + 16;\r\n    var thrust = 360 * Math.random();\r\n    var right_thruster = new THREE.Sprite( MaterialLibrary.smoke() );\r\n    right_thruster.position.set( this.ship.position.x, this.ship.position.y, this.ship.position.z );\r\n    right_thruster.rotation.set( this.ship.rotation.x, this.ship.rotation.y, this.ship.rotation.z );\r\n    right_thruster.translateX(-90);\r\n    right_thruster.translateZ(-70);\r\n    right_thruster.material.rotation = thrust;\r\n    this.initParticle(scene, right_thruster, scale);\r\n  \r\n    var left_thruster = new THREE.Sprite( MaterialLibrary.smoke() );\r\n    left_thruster.position.set( this.ship.position.x, this.ship.position.y, this.ship.position.z );\r\n    left_thruster.rotation.set( this.ship.rotation.x, this.ship.rotation.y, this.ship.rotation.z );\r\n    left_thruster.translateX(90);\r\n    left_thruster.translateZ(-70);\r\n    left_thruster.material.rotation = -thrust;\r\n    this.initParticle(scene, left_thruster, scale);\r\n  }\r\n  \r\n  initParticle( scene, particle, scale ) {\r\n    particle.scale.x = particle.scale.y = scale;\r\n    particle.translateY(-120);\r\n    new TWEEN.Tween( particle.scale )\r\n      .onComplete(function(){ scene.remove(particle) })\r\n      .to( { x: 0.01, y: 0.01 }, 1000 )\r\n      .start();\r\n    scene.add( particle );\r\n  }\r\n  \r\n}\r\n","/**\r\n  * Island.\r\n  * \r\n  * Object Class\r\n  *\r\n  */\r\n\r\n// Globals.\r\nimport $ from 'jQuery';\r\nimport THREE from 'THREE';\r\n\r\nlet MaterialLibrary;\r\n\r\nexport default class Island {\r\n  constructor(materials) {\r\n    MaterialLibrary = materials;\r\n  }\r\n\r\n  animate() {\r\n    \r\n  }\r\n\r\n  initLand(light) {   \r\n    var geometry = new THREE.PlaneGeometry( 200000, 200000, 200, 200 );\r\n    this.land  = new THREE.Mesh( geometry,  MaterialLibrary.island(light) ) ;\r\n    this.land.position.y = -900;\r\n    this.land.rotation.x = - Math.PI / 2;\r\n    return this.land;\r\n  }\r\n}\r\n","/**\r\n  * Opening.\r\n  * \r\n  * Scene Class\r\n  *\r\n  */\r\n\r\n// Globals.\r\nimport $ from 'jQuery';\r\nimport THREE from 'THREE';\r\n\r\n// Game libs.\r\nimport Aircraft from '../objects/aircraft.js';\r\nimport Island from '../objects/island.js';\r\n\r\nlet keyboard, scene, camera, stats;\r\nlet water, land, light, sky, sunSphere, ship, AircraftFactory;\r\n\r\nlet cloudId = 0;\r\nlet cloudTextures = [\"./assets/cloud.png\", \"./assets/cloud2.png\", \"./assets/cloud3.png\"];\r\nlet clouds = [];\r\n\r\nlet effectController  = {\r\n  turbidity: 10,\r\n  rayleigh: 2,\r\n  mieCoefficient: 0.005,\r\n  mieDirectionalG: 0.8,\r\n  luminance: 1,\r\n  inclination: -1.1, // elevation / inclination\r\n  azimuth: -1.1, // Facing front,\r\n  sun: ! true\r\n};\r\n\r\nlet MaterialLibrary;\r\n\r\nexport default class IslandScene {\r\n  constructor(Materials) {\r\n    this.scripts = {\r\n      'Demo': [],\r\n      'Flight': []\r\n    };\r\n    this.parameters = {\r\n      oceanSide: 150000,\r\n      size: 1,\r\n      distortionScale: 8,\r\n      alpha: 1\r\n    };\r\n    MaterialLibrary = Materials;\r\n  }\r\n\r\n  animate(camera_controls) {\r\n    water.material.uniforms.time.value += 1.0 / 60.0;\r\n    land.material.uniforms.time.value += 1.0 / 60.0;\r\n    \r\n    if (effectController) {\r\n      var distance = this.parameters.oceanSide;\r\n  \r\n      var uniforms = sky.material.uniforms;\r\n      uniforms.turbidity.value = effectController.turbidity;\r\n      uniforms.rayleigh.value = effectController.rayleigh;\r\n      uniforms.luminance.value = effectController.luminance;\r\n      uniforms.mieCoefficient.value = effectController.mieCoefficient;\r\n      uniforms.mieDirectionalG.value = effectController.mieDirectionalG;\r\n  \r\n      var theta = Math.PI * ( effectController.inclination - 0.5 );\r\n      var phi = 2 * Math.PI * ( effectController.azimuth - 0.5 );\r\n  \r\n      light.position.x = sunSphere.position.x = distance * Math.cos( phi );\r\n      light.position.y = sunSphere.position.y = distance * Math.sin( phi ) * Math.sin( theta );\r\n      light.position.z = sunSphere.position.z = distance * Math.sin( phi ) * Math.cos( theta ); \r\n  \r\n      sky.material.uniforms.sunPosition.value.copy( light.position.clone() );\r\n      land.material.uniforms.sunPosition.value.copy( light.position.clone() );\r\n    }\r\n  \r\n    clouds.forEach((sprite) => {\r\n      sprite.material.opacity = Math.min(1, Math.max(0.05,(sunSphere.position.y / this.parameters.oceanSide)));\r\n    });\r\n\r\n    ship.animate(keyboard, camera_controls, AircraftFactory, scene);\r\n  }\r\n  addCloud(position) {\r\n    var spriteMap = new THREE.TextureLoader().load( cloudTextures[cloudId] );\r\n    var spriteMaterial = new THREE.SpriteMaterial( { alphaTest: 0.00125, map: spriteMap, color: 0xffffff } );\r\n    var sprite = new THREE.Sprite( spriteMaterial );\r\n    sprite.position.set(position.x, position.y, position.z);\r\n    var randomer = Math.random();\r\n  \r\n    var scaler = 1;\r\n    if (cloudId == 2) {\r\n      scaler = 3;\r\n    }\r\n    sprite.scale.set(scaler * 100000 * randomer, scaler * 75000 * randomer,1);\r\n    clouds.push(sprite);\r\n    \r\n    scene.add( clouds[clouds.length - 1] );\r\n  \r\n    cloudId++;\r\n    if (cloudId > 2) {\r\n      cloudId = 0;\r\n    }\r\n  }\r\n  setWater() {\r\n    var waterGeometry = new THREE.CircleBufferGeometry( this.parameters.oceanSide * 5, 1000 );\r\n    water = new THREE.Water(\r\n      waterGeometry,\r\n      {\r\n        clipBias: -0.000001,\r\n        textureWidth: 1024,\r\n        textureHeight: 1024,\r\n        waterNormals: new THREE.TextureLoader().load( './assets/waternormals.jpg', function ( texture ) {\r\n          texture.wrapS = texture.wrapT = THREE.RepeatWrapping;\r\n        }),\r\n        alpha:  this.parameters.alpha,\r\n        sunDirection: light.position.clone().normalize(),\r\n        sunColor: 0x66CCFF,\r\n        waterColor: 0x001e0f,\r\n        distortionScale: this.parameters.distortionScale,\r\n        fog: scene.fog != undefined,\r\n        size: this.parameters.size\r\n      }\r\n    );\r\n  \r\n    water.rotation.x = - Math.PI / 2;\r\n    water.receiveShadow = true;\r\n  \r\n    scene.add( water );\r\n  \r\n  }\r\n  init() {\r\n    keyboard  = new THREEx.KeyboardState(); \r\n    scene = new THREE.Scene();\r\n    camera = new THREE.PerspectiveCamera( 45, window.innerWidth / window.innerHeight, 100, this.parameters.oceanSide * 10000 );\r\n    camera.position.y = 120;\r\n    camera.position.z = - 1600;\r\n    \r\n    var amb_light = new THREE.AmbientLight( 0xffffff, Math.PI / 10 );\r\n    scene.add( amb_light );\r\n  \r\n    light = new THREE.DirectionalLight( 0xffffff, Math.PI / 2 );\r\n    scene.add( light );\r\n         \r\n    this.setWater();\r\n  \r\n    AircraftFactory = new Aircraft(MaterialLibrary);\r\n    ship = AircraftFactory.drawShip();\r\n      \r\n    scene.add( ship );\r\n    ship.add(camera);\r\n    ship.rotateY(-Math.PI/2);\r\n  \r\n    land = (new Island(MaterialLibrary)).initLand(light)\r\n    scene.add(land);\r\n    this.initSky(scene);\r\n\r\n    return { camera: camera, scene: scene, ship: ship};\r\n  }\r\n  initSky(scene) {\r\n    // Add Sky\r\n    sky = new THREE.Sky();\r\n    sky.scale.setScalar( this.parameters.oceanSide * 5 );\r\n    scene.add( sky );\r\n  \r\n    // Add Sun Helper\r\n    sunSphere = new THREE.Mesh(\r\n      new THREE.SphereBufferGeometry( 20000, 16, 8 ),\r\n      new THREE.MeshBasicMaterial( { color: 0xffffff } )\r\n    );\r\n    sunSphere.position.y = - 700000;\r\n    sunSphere.visible = false;\r\n    scene.add( sunSphere );\r\n  \r\n    for (var i = 0; i < 100; i++) {\r\n      // Credit - https://stackoverflow.com/a/13455101/8255070\r\n      var x = Math.floor(Math.random()*99) + 1; // this will get a number between 1 and 99;\r\n      x *= Math.floor(Math.random()*2) == 1 ? 1 : -1; \r\n      var y = Math.floor(Math.random()*99) + 1; // this will get a number between 1 and 99;\r\n      y *= Math.floor(Math.random()*2) == 1 ? 1 : -1; \r\n      this.addCloud(new THREE.Vector3(\r\n        (this.parameters.oceanSide / 35) * x,\r\n        150000 + 25000 * Math.random(),\r\n        (this.parameters.oceanSide / 35) * y)\r\n      );  \r\n    } \r\n    \r\n    \r\n    // old GUI params\r\n    effectController  = {\r\n      turbidity: 10,\r\n      rayleigh: 2,\r\n      mieCoefficient: 0.005,\r\n      mieDirectionalG: 0.8,\r\n      luminance: 1,\r\n      inclination: -1.1, // elevation / inclination\r\n      azimuth: -1.1, // Facing front,\r\n      sun: ! true\r\n    };\r\n  \r\n     var sun_cycle = new TWEEN.Tween(effectController)\r\n      .to({azimuth: 1.1}, 600000)\r\n      .to({inclination: 1.1}, 600000)\r\n      .repeat(Infinity)\r\n      .yoyo(true)\r\n      .start();\r\n  \r\n  }\r\n}\r\n","/**\r\n  * Materials.\r\n  * \r\n  * Central store for all the images used for textures and materials.\r\n  *\r\n  */\r\n\r\n// Globals.\r\nimport $ from 'jQuery';\r\nimport THREE from 'THREE';\r\n\r\nexport default class Materials {\r\n  constructor(options) {\r\n    /** \r\n     * Textures\r\n     */\r\n    this.textures = {\r\n      darkMetal1: this.loadTexture('./assets/darkmetal.jpg', (texture) => {\r\n        texture.wrapS = texture.wrapT = THREE.MirroredRepeatWrapping;\r\n        texture.repeat.set( 10., 25. );\r\n      }),\r\n      darkMetal2: this.loadTexture('./assets/darkmetal.jpg', (texture) => {\r\n        texture.wrapS = texture.wrapT = THREE.RepeatWrapping;\r\n        texture.repeat.set( .05, .05 );\r\n      }),\r\n      forest: this.loadTexture('/assets/forest.jpg', ( texture ) => {\r\n        texture.wrapS = texture.wrapT = THREE.RepeatWrapping;\r\n      }),\r\n      island_heightMap: this.loadTexture('./assets/height.png'),\r\n      island_texture: this.loadTexture('./assets/texture.png'),\r\n      sand: this.loadTexture('/assets/sand.jpg', ( texture ) => {\r\n        texture.wrapS = texture.wrapT = THREE.RepeatWrapping;\r\n      }),\r\n      smoke: this.loadTexture('./assets/smoke.png'),\r\n      volcano: this.loadTexture('/assets/volcano.jpg', ( texture ) => {\r\n        texture.wrapS = texture.wrapT = THREE.RepeatWrapping;\r\n      })\r\n    };\r\n    /** \r\n     * Material definitions\r\n     */\r\n    this.island = (light) => {\r\n      return new THREE.ShaderMaterial({\r\n        uniforms: {\r\n          bumpTexture:  { type: \"t\", value: this.textures.island_heightMap },\r\n          bumpScale:    { type: \"f\", value: 24361.43 },\r\n          landSize:     { type: \"f\", value: 200000 },\r\n          time:         { type: \"f\", value: 0.0 },\r\n          texture:      { type: \"t\", value: this.textures.island_texture },\r\n          sandyTexture: { type: \"t\", value: this.textures.sand },\r\n          forestTexture: { type: \"t\", value: this.textures.forest },\r\n          rockyTexture: { type: \"t\", value: this.textures.volcano },\r\n          sunPosition:  { type: \"v3\", value: light.position.clone() },\r\n          center:       { type: \"v3\", value: { x: 0, y: 0, z: 0} }\r\n        },\r\n        vertexShader:   document.getElementById( 'landVertexShader'   ).textContent,\r\n        fragmentShader: document.getElementById( 'landFragmentShader' ).textContent,\r\n        transparent: true\r\n      });\r\n    };\r\n    this.smoke = () => {\r\n      return new THREE.SpriteMaterial( {\r\n        alphaTest: .0543212345,\r\n        map: this.textures.smoke,\r\n        transparent: true\r\n      } );\r\n    };\r\n  }\r\n\r\n  loadTexture(texture_location, callback = () => {}) {\r\n    return new THREE.TextureLoader().load( texture_location, callback);\r\n  }\r\n}\r\n","/**\r\n  * Scenograph.\r\n  *\r\n  * Manages scenes\r\n  * \r\n  * Properties,\r\n  * - Director, class containing scene configuration and helpers\r\n  * - Scenes, Array, contains Director configs, Object layouts and helper functions to draw a scene.\r\n  * -- Scripts, class within each Scene, extensible way to activate a scene - i.e. interactive/play mode or flyby demo mode.\r\n  * \r\n  * Internal classes,\r\n  * - Materials, object containing reusable THREE JS materials\r\n  * - Objects, reusable THREE JS scene objects with helper classes like animate()\r\n  */\r\n\r\n// Globals.\r\nimport $ from 'jQuery';\r\nimport THREE from 'THREE';\r\nimport TWEEN from 'TWEEN';\r\n\r\n// Game libs.\r\nimport Director from './scenograph/director.js';\r\nimport IslandScene from './scenograph/scenes/island.js';\r\n\r\n// Game libs.\r\nimport Materials from './scenograph/materials.js';\r\n\r\nlet clock = new THREE.Clock();\r\n\r\nexport default class Scenograph {\r\n  constructor() {\r\n    this.Director = new Director();\r\n    this.Materials = new Materials();\r\n    this.Scenes = {\r\n      IslandScene: new IslandScene(this.Materials)\r\n    };\r\n    this.renderer = new THREE.WebGLRenderer({\r\n      antialias: true,\r\n      logarithmicDepthBuffer: false\r\n    });\r\n  }\r\n  ready () {\r\n    \r\n    this.renderer.setPixelRatio( window.devicePixelRatio );\r\n    this.renderer.setSize( window.innerWidth, window.innerHeight );\r\n\r\n    this.container = document.getElementById( 'container' );\r\n    \r\n    this.container.innerHTML = \"\";\r\n    this.container.appendChild( this.renderer.domElement );\r\n    \r\n    let IslandSceneInstance = this.Scenes.IslandScene.init();\r\n    this.scene = IslandSceneInstance.scene;\r\n    this.camera = IslandSceneInstance.camera;\r\n    this.ship = IslandSceneInstance.ship;\r\n    this.camera_controls = new THREE.OrbitControls( this.camera, window.app.scenograph.renderer.domElement );\r\n    \r\n    window.addEventListener( 'resize', this.onWindowResize, false );\r\n\r\n    this.stats = new Stats();\r\n    document.getElementById( 'stats' ).appendChild( this.stats.domElement );\r\n\r\n    this.animate();\r\n  }\r\n  onWindowResize() {\r\n    window.app.scenograph.camera.aspect = window.innerWidth / window.innerHeight;\r\n    window.app.scenograph.camera.updateProjectionMatrix();\r\n    window.app.scenograph.renderer.setSize( window.innerWidth, window.innerHeight );\r\n  }\r\n  animate() {\r\n    TWEEN.update();\r\n     \r\n    requestAnimationFrame( window.app.scenograph.animate );\r\n    window.app.scenograph.render();\r\n  }\r\n  render() {\r\n    var delta = clock.getDelta(),\r\n      time = clock.getElapsedTime() * 10;\r\n\r\n    this.Scenes.IslandScene.animate(this.camera_controls);\r\n  \r\n    this.camera_controls.update( delta );\r\n    this.camera.lookAt(this.ship.position);\r\n    this.stats.update();\r\n\r\n    this.renderer.render( this.scene, this.camera );\r\n  }\r\n}\r\n","/**\r\n * Kamigen Browser Application\r\n * \r\n * @TODO: Replace game.js and jumbotron.js\r\n */\r\n\r\n// External libs\r\nimport $ from 'jQuery';\r\n\r\n// Internal libs\r\nimport Scenograph from './app/scenograph.js';\r\n\r\n// Setup the main App class.\r\nexport default class App {\r\n  constructor() {\r\n    this.scenograph = new Scenograph();\r\n  }\r\n}\r\n\r\n// Run App using jQuery.ready()\r\n$(() => {\r\n  window.app = new App();\r\n\r\n  // Run all the ready functions\r\n  for (var classInstance in app) {\r\n    if (app[classInstance].ready) {\r\n      app[classInstance].ready();\r\n    }\r\n  }\r\n});\r\n"],"names":["let","MaterialLibrary","THREE","$","this","TWEEN"],"mappings":"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"}